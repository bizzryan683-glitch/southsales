<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>South Sales</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f4f4f4;
}

header {
  background: #000;
  color: #fff;
  padding: 12px;
  display: flex;
  justify-content: flex-end;
}

.cart-btn {
  background: #222;
  color: #fff;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
}

.card {
  background: #fff;
  margin: 15px;
  padding: 15px;
  border-radius: 12px;
}

/* IMAGE GALLERY */
.main-img {
  width: 100%;
  max-height: 300px;
  object-fit: contain;
  background: #eee;
  border-radius: 10px;
}

.thumbs {
  display: flex;
  gap: 8px;
  margin-top: 8px;
}

.thumbs img {
  width: 60px;
  height: 60px;
  object-fit: contain;
  background: #eee;
  border-radius: 6px;
  cursor: pointer;
  border: 2px solid transparent;
}

.thumbs img:hover {
  border-color: #000;
}

h3 { margin: 10px 0 5px; }
.price { font-weight: bold; }

.actions {
  display: flex;
  gap: 10px;
  margin-top: 12px;
}

button {
  flex: 1;
  padding: 10px;
  background: #111;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
}

button.grey { background: #555; }

/* POPUPS */
.popup {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  z-index: 999;
}

.popup-box {
  background: white;
  margin: 60px auto;
  padding: 20px;
  width: 90%;
  max-width: 340px;
  border-radius: 12px;
}

.popup-box h4 { text-align: center; }

.select-group button {
  width: 100%;
  margin-top: 8px;
}

input, textarea {
  width: 100%;
  padding: 10px;
  margin-top: 8px;
  border-radius: 6px;
  border: 1px solid #ccc;
}
</style>
</head>

<body>

<header>
  <div class="cart-btn" onclick="openCart()">ðŸ›’ Cart (<span id="cartCount">0</span>)</div>
</header>

<div class="card">

  <!-- IMAGE GALLERY -->
  <img id="mainImage" src="images/tracksuit-1.webp" class="main-img">

  <div class="thumbs">
    <img src="images/tracksuit-1.webp" onclick="changeImg(this.src)">
    <img src="images/tracksuit-2.webp" onclick="changeImg(this.src)">
    <img src="images/tracksuit-3.webp" onclick="changeImg(this.src)">
  </div>

  <h3>Nike Tracksuit</h3>
  <div class="price">Â£70</div>

  <div class="actions">
    <button class="grey" onclick="openSelect('cart')">Add to Cart</button>
    <button onclick="openSelect('buy')">Buy Now</button>
  </div>
</div>

<!-- SIZE & COLOUR -->
<div id="selectPop" class="popup">
  <div class="popup-box">
    <h4>Select Size</h4>
    <div class="select-group">
      <button onclick="setSize('Small')">Small</button>
      <button onclick="setSize('Medium')">Medium</button>
      <button onclick="setSize('Large')">Large</button>
    </div>

    <h4 style="margin-top:15px">Select Colour</h4>
    <div class="select-group">
      <button onclick="setColour('Black')">Black</button>
      <button onclick="setColour('Grey')">Grey</button>
    </div>

    <button style="margin-top:15px" onclick="confirmSelection()">Continue</button>
    <button class="grey" onclick="closeAll()">Cancel</button>
  </div>
</div>

<!-- CART -->
<div id="cartPop" class="popup">
  <div class="popup-box">
    <h4>Your Cart</h4>
    <p id="cartDetails"></p>
    <button onclick="checkout()">Checkout</button>
    <button class="grey" onclick="closeAll()">Close</button>
  </div>
</div>

<!-- DELIVERY -->
<div id="deliveryPop" class="popup">
  <div class="popup-box">
    <h4>Delivery Address</h4>
    <input id="name" placeholder="Full Name">
    <textarea id="address" placeholder="Full Delivery Address"></textarea>
    <p id="summary"></p>
    <button onclick="pay()">Pay with PayPal</button>
    <button class="grey" onclick="closeAll()">Cancel</button>
  </div>
</div>

<script>
let action = "";
let size = "";
let colour = "";
let cart = [];

function changeImg(src) {
  document.getElementById("mainImage").src = src;
}

function openSelect(a) {
  action = a;
  size = "";
  colour = "";
  document.getElementById("selectPop").style.display = "block";
}

function setSize(s) { size = s; }
function setColour(c) { colour = c; }

function confirmSelection() {
  if (!size || !colour) {
    alert("Select size and colour");
    return;
  }

  document.getElementById("selectPop").style.display = "none";

  if (action === "cart") {
    cart.push({ size, colour });
    document.getElementById("cartCount").innerText = cart.length;
    alert("Added to cart");
  } else {
    openDelivery();
  }
}

function openCart() {
  if (cart.length === 0) {
    alert("Cart is empty");
    return;
  }
  document.getElementById("cartDetails").innerText =
    cart.map((i, n) => `Item ${n+1}: ${i.size}, ${i.colour}`).join("\n");
  document.getElementById("cartPop").style.display = "block";
}

function checkout() {
  document.getElementById("cartPop").style.display = "none";
  openDelivery();
}

function openDelivery() {
  document.getElementById("summary").innerText =
    `Nike Tracksuit | Size: ${size || cart[0].size} | Colour: ${colour || cart[0].colour}`;
  document.getElementById("deliveryPop").style.display = "block";
}

function pay() {
  const name = document.getElementById("name").value.trim();
  const address = document.getElementById("address").value.trim();

  if (name.length < 3 || address.length < 10) {
    alert("Enter a valid full delivery address");
    return;
  }

  const note = encodeURIComponent(
    `Nike Tracksuit | Size: ${size} | Colour: ${colour} | Name: ${name} | Address: ${address}`
  );

  window.location.href =
    "https://www.paypal.me/RichardGigs/70?note=" + note;
}

function closeAll() {
  document.querySelectorAll(".popup").forEach(p => p.style.display = "none");
}
</script>

</body>
</html>
